# 什么是网络服务器？

“网络服务器（Web server）”可以代指硬件或软件，或者是它们协同工作的整体。

### 1.网络服务器是硬件和软件的协作

**1.因为它是一台存储了网络服务软件以及网站的组成文件（比如，HTML文档、图片、CSS样式表和JavaScript文件）的计算机，连接到互联网并于其他的连入互联网的其他设备进行物理数据的交互。**

**2.软件部分是因为，网络服务器还要控制用户如何的去访问托管的文件。首先得有HTTP服务器服务器的功能。理解URL（网络地址）和HTTP（浏览器用来查看网页的协议）还可以把其他的内容发送给最终的用户。**

基本上，当浏览器需要一个托管在网络服务器上的文件的时候，浏览器通过HTTP请求这个文件。当这个请求到达正确的网络服务器（硬件）时，HTTP服务器（软件）收到这个请求，找到这个被请求的文档（如果这个文档不存在，那么将返回一个404响应）， 并把这个文档通过HTTP发送给浏览器。

![Basic representation of a client/server connection through HTTP](https://mdn.mozillademos.org/files/8659/web-server.svg)

### 2.发布一个网站，你需要一个静态或动态的服务器

- **怎么理解静态的服务器？**

  **静态网络服务器（**static web server**），或者堆栈，由一个计算机（硬件）和一个 HTTP 服务器（软件）组成。我们称它为 “静态” 是因为这个服务器把它托管文件的 “保持原样” 地传送到你的浏览器。**

- **什么又是动态的服务器？**

  **动态网络服务器（**dynamic web server**） 由一个静态的网络服务器加上额外的软件组成，最普遍的是一个应用服务器 [*application server*] 和一个数据库 [*database*]。我们称它为 “动态” 是因为这个应用服务器会在通过 HTTP 服务器把托管文件传送到你的浏览器之前会对这些托管文件进行更新。**

> **用数据库中的内容填充HTML模板**
>
> 像维基百科那样的网页，并不是成千上万的网页，也不是真正的HTML文档。他们只是很小的一个HTML模板和一个巨大的数据库。这样的设置使得页面更容易维护。

### 3.当我们的浏览器发送请求到网络服务器时，网络服务器到底发生了什么？

> 总的来说就是，当我们发送请求到网络服务器时，网络服务器会在自己的存储空间内寻找请求的文件，并把文件进行处理，然后把处理好的文件返回给浏览器。

#### 1).托管文件

一个网络服务器首先需要存储这个网站的文件，也就是说所有的 HTML 文档和它们的相关资源 （related assets），包括图片，CSS 样式表，JavaScript 文件，字形 （fonts） 以及影像。

严格来说，你可以在你自己的计算机上托管所有的这些文件，但是在一个专用的网络服务器上存储它们会方便得多，因为它

- **会一直启动和运行**
- **会一直与互联网连接**
- 会一直拥有一样的 IP 地址（不是所有的 [ISPs](https://developer.mozilla.org/zh-CN/docs/Glossary/ISP) 都会为家庭线提供一个固定的 IP 地址）
- 由一个第三方提供者维护

#### 2.)通过HTTP交流

第二点，一个网络服务器提供了 [HTTP](https://developer.mozilla.org/zh-CN/docs/Glossary/HTTP)（超文本传输协议）支持。正如它的名字暗示，HTTP 明确提出了如何在两台计算机间传输超文本（比如说链接的网络文档 （linked web documents））。

一个*协议（*[Protocol](https://developer.mozilla.org/zh-CN/docs/Glossary/Protocol)*）*是一套为了在两台计算机间交流而制定的规则。 HTTP 是一个文本化的 （textual），无状态的 （stateless）协议

#### 3).文本化

所有的命令都是纯文本的 （plain-text） 和人类可读的 （human-readable）。

#### 4.)无状态

无论是服务器还是客户都不会记住之前的交流。举个例子，仅依靠 HTTP，一个服务器不能记住你输入的密码或者你正处于业务中的哪一步。你需要一个应用服务器来进行这样的工作。（我们会在日后的文章中涵盖这类的技术。）

HTTP 为客户和服务器间的如何沟通提供清晰的规则。我们会在日后的一篇[技术文章 ](https://developer.mozilla.org/en-US/docs/Web/HTTP)中覆盖 HTTP 本身。就目前而言，只需要知道这几点：

- 只有*用户*可以制定 HTTP 请求，然后只会发送到*服务器*。服务器只能响应客户端的HTTP请求。
- 当通过 HTTP 请求一个文件时，客户必须提供这个文件的[URL](https://developer.mozilla.org/zh-CN/docs/Glossary/URL)。
- 网络服务器*必须应答*每一个 HTTP 请求，至少也要回复一个错误信息。

在一个网络服务器上，HTTP服务器负责处理和应答传入的请求。

1. 当收到一个请求时， HTTP 服务器首先要检查所请求的 URL 是否与一个存在的文件相匹配。
2. 如果是，网络服务器会传送文件内容回到浏览器。如果不是，一个应用服务器会建立必要的文件。
3. 如果两种处理都不可能，网络服务器会返回一个错误信息到浏览器，最常见的是 “404 未找到” ["404 Not Found"]。（这错误太常见以至于很多网页设计者花费许多时间去设计 404 错误页面 [[404 error pages](http://www.404notfound.fr/)]。）

### [静态和动态内容]

粗略地说，一个服务器可以提供静态或者动态的内容。“静态” 意味着 “保持原样地提供”。静态的网站是最容易建立的，所以我们建议你制作一个静态的网站作为你的第一个网站。

“动态” 意味着服务器会处理内容甚至实时地从一个数据库中产生它。这个解决方案提供了更多的灵活性，但是技术堆栈变得更难去处理，让建立网站更惊人地复杂。

以你正在阅读的页面为例子。在正在托管它的网络服务器里，有一个应用服务器会从**数据库提取文章内容，安排它的布局，把它放置在一些 HTML 模板**中，然后为你传输结果。

- **从数据库中提取出数据**
- **安排这些数据的布局**
- **把这些数据防到HTML的模板当中去**