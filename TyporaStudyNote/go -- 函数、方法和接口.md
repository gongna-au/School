# go -- 函数、方法和接口

> 函数对应操作序列，是程序的基本组成元素。Go语言中的函数有具名和匿名之分：具名函数一般对应于包级的函数，是匿名函数的一种特例，当匿名函数引用了外部作用域中的变量时就成了闭包函数，闭包函数是函数式编程语言的核心

> 方法是绑定到一个具体类型的**特殊函数**，Go语言中的方法是依托于类型的，必须在编译时静态绑定

接口定义了方法的集合，这些方法依托于运行时的接口对象

因此接口对应的方法是在运行时动态绑定的

Go语言程序的初始化和执行总是从`main.main`函数开始的。但是如果`main`包导入了其它的包，则会按照顺序将它们包含进`main`包里（这里的导入顺序依赖具体实现，一般可能是以文件名或包路径名的字符串顺序导入）。如果某个包被多次导入的话，在执行的时候只会导入一次。当一个包被导入时，如果它还导入了其它的包，则先将其它的包包含进来，然后**创建和初始化这个包的常量和变量**,**再调用包里的`init`函数**,

如果一个包有多个`init`函数的话，调用顺序未定义(实现可能是以文件名的顺序调用)，同一个文件内的多个`init`则是以出现的顺序依次调用（`init`不是普通函数，可以定义有多个，所以也不能被其它函数调用）。最后，当`main`包的所有包级常量、变量被创建和初始化完成，并且`init`函数被执行后，才会进入`main.main`函数，程序开始正常执行。下图是Go程序函数启动顺序的示意图：

![img](https://chai2010.gitbooks.io/advanced-go-programming-book/content/images/ch1-11-init.ditaa.png)

## 函数

在Go语言中，函数是第一类对象，我们可以将函数保持到变量中。函数主要有具名和匿名之分，包级函数一般都是具名函数，具名函数是匿名函数的一种特例。当然，Go语言中每个类型还可以有自己的方法，方法其实也是函数的一种。

```go
// 具名函数
func Add(a, b int) int {
    return a+b
}

// 匿名函数
var Add = func(a, b int) int {
    return a+b
}
```

* Go语言中的函数可以有多个参数和**多个返回值**
* 参数和返回值都是以传值的方式和被调用者交换数据。
* go 语言的函数还支持可变数量的参数，可变数量的参数的要求是1.必须是最后出现的参数2.可变数量的参数的本质就是切片类型的参数。

```
//多个参数和返回值
func Swap （a,b int）(int int){
	return a,b
}

//可变数量的参数
// more 对应 []int 切片类型
func Sum (a int, more...int) int{

	for _, v :=range more{
		a+=v
	
	}
 return a
}



```











